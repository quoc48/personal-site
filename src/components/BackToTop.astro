---
// Back to Top button - subtle circular icon, centered above footer
---

<button
  id="back-to-top"
  class="fixed right-5 md:right-8 bottom-[120px] z-40 w-10 h-10 flex items-center justify-center bg-[#2c2c2c] hover:bg-[#1a1a1a] text-white rounded-full shadow-[0_2px_8px_rgba(0,0,0,0.15)] opacity-0 invisible translate-y-4 transition-all duration-300"
  aria-label="Back to top"
>
  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 15L12 9L6 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

<script>
  function initBackToTop() {
    const backToTopBtn = document.getElementById('back-to-top');
    if (!backToTopBtn) return;

    // Show/hide button based on scroll position
    window.addEventListener('scroll', () => {
      if (window.scrollY > 400) {
        backToTopBtn.classList.remove('opacity-0', 'invisible', 'translate-y-4');
        backToTopBtn.classList.add('opacity-100', 'visible', 'translate-y-0');
      } else {
        backToTopBtn.classList.add('opacity-0', 'invisible', 'translate-y-4');
        backToTopBtn.classList.remove('opacity-100', 'visible', 'translate-y-0');
      }
    });

    // Scroll to top when clicked
    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
  }

  // Initialize
  document.addEventListener('DOMContentLoaded', initBackToTop);
  document.addEventListener('astro:page-load', initBackToTop);
  
  if (document.readyState === 'complete' || document.readyState === 'interactive') {
    setTimeout(initBackToTop, 0);
  }
</script>
